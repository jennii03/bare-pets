{{ 'module-affiliate-banner.css' | asset_url | stylesheet_tag }}

{%liquid
    assign heading = section.settings.heading
    assign description = section.settings.description
    assign background = section.settings.background
    assign background_mobile = section.settings.background_mobile
%}

<div id="module-affiliate-banner__{{ section.id }}" class="module-affiliate-banner section-padding">
  <div class="module-affiliate-banner__container">
      <h1 class="main-heading remove-spacing text-purple">{{ heading }}</h1>
      {% if description != blank %}
        <p class="module-affiliate-banner__description remove-spacing">{{ description }}</p>
      {% endif %}
  </div>
</div>

<style>
    .module #module-affiliate-banner__{{ section.id }}.module-affiliate-banner {
        background-image: url({{ background | img_url : 'master' }});
    }
    
    @media (max-width: 767px) {
        .module #module-affiliate-banner__{{ section.id }}.module-affiliate-banner {
            background-image: url({{ background_mobile | img_url : 'master' }});
        }
    }
</style>

{% schema %}
  {
    "name": "Module Affiliate Banner",
    "class": "module",
    "settings": [
        {
            "type": "text",
            "id": "heading",
            "label": "Heading",
            "default": "become an affiliate"
        },
        {
          "type": "textarea",
          "id": "description",
          "label": "Description (optional)"
        },
        {
            "type": "image_picker",
            "id": "background",
            "label": "Background"
        },
        {
            "type": "image_picker",
            "id": "background_mobile",
            "label": "Background mobile"
        }
    ],
    "presets": [
      {
        "name": "Module Affiliate Banner",
        "category": "product"
      }
    ]
  }
{% endschema %}